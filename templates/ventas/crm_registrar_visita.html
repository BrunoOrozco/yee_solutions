{% extends "ventas/base.html" %}
{% load static %}
{% block head_content %} 
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link rel="stylesheet" href='{% static "css/crm_phone.css" %}'>
<link rel="stylesheet" href='{% static "css/crm_desktop.css" %}' media="(min-width: 860px)">


<link href="{% static 'css/select2.min.css' %}" rel="stylesheet" />

<title>Registrar llamadas | Yee Solutions</title>


{% endblock %}

{% block container %}

<section class="super-container">
    <div class="container-main hg">
    
        <section class="container_first form-ct">
            <form action="" class="form-ct__background row g-3" method="post">
                {% csrf_token %}
                <input type="hidden" name="vendedor" value="{{ user.id }}" required>
                <label for="id_nombre_comercial" class="form-label wd-full">Escoge a tu cliente: <b class="alert-form">*</b></label>
                <select style="width: 100%;" id="nombre_comercial" name="nombre_comercial" required>
                    <option value="" selected disabled hidden>SELECCIONA A UN CLIENTE</option>
                    {% for clientes in list_empresas %}
                    <option value="{{ clientes.id }}">{{ clientes.nombre_comercial }}</option>
                    {% endfor %}
                </select>


                <label for="id_nombre_contacto" class="form-label wd-full">Escoge a tu contácto: <b class="alert-form">*</b></label>
                <select id="nombre_contacto" name="nombre_contacto" class="select2" required>
                    <option value="" selected disabled hidden>SELECCIONA A UN CONTÁCTO</option>
                    {% for clientes in list_contactos %}
                    <option value="{{ clientes.id }}">{{ clientes.nombre_contacto }} - {{ clientes.nombre_comercial }} </option>
                    {% endfor %}
                </select>
                    
                <div class="col-12">
                    <label class="form-label wd-full">Tipo de llamada: <b class="alert-form">*</b></label>
                    <select name="entrada_o_salida" required>
                        <option value="" selected disabled hidden>SELECCIONA UNA OPCIÓN</option>
                        <option value="entrada">ENTRADA</option>
                        <option value="salida">SALIDA</option>
                    </select>
                </div>

                <div class="invalid-feedback">

                    {% if form.entrada_o_salida.errors %}
                        {{ form.entrada_o_salida.errors }}
                    {% else %}
                    <p class="font-form font-alert-opcion"></p>
                    {% endif %}

                </div>
                <div class="col-12">
                    <label class="form-label wd-full">Tipo de visita: <b class="alert-form">*</b></label>
                    <select name="tipo_llamada" required>
                        <option value="" selected disabled hidden>SELECCIONA UNA OPCIÓN</option>
                        <option value="cita">VISITA CON CITA (PRESENTACIÓN DE PRODUCTO)</option>
                        <option value="saludo">VISITA SALUDO (COBRANZA, GARANTÍA)</option>
                        <option value="propuesta">PROPUESTA DEL MES</option>
                        <option value="cierre">CIERRE</option>
                    </select>
                </div>

                <div class="col-12">
                    <label class="form-label wd-full">Fecha para siguiente contácto: <b class="alert-form">*</b></label>

                {{ form.fecha_sig_cont }}

                <div class="invalid-feedback">

                    {% if form.fecha_sig_cont.errors %}
                        {{ form.fecha_sig_cont.errors }}
                    {% else %}
                    <p class="font-form font-alert-opcion"></p>
                    {% endif %}

                </div>

                <div>
                    <label>Comentario: <b class="alert-form">*</b></label>
                    {{ form.comentario }}

                </div>
                <div class="invalid-feedback">
                    {% if form.comentario.errors %}
                        {{ form.comentario.errors }}
                    {% else %}
                    <p class="font-form font-alert-opcion"></p>
                    {% endif %}

                </div>

                <p class="alert-form">________</p>

                <b class="alert-form">campos obligatorios</b>

                <div class="btn_add_client--cont">
                    <button type="submit" class="btn_add_client">Envíar</button>
                </div> 
            </form>
        </section>
    </div>
<section>

<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script>

    $(document).ready(function() {
        $('#nombre_comercial').select2();
    });
    $(document).ready(function() {
        $('#nombre_contacto').select2();
    });
</script>


{% endblock %}